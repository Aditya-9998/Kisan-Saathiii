<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kisaan Saathi â€” Village Weather</title>

  <!-- Project CSS -->
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/weather.css" />
  <link rel="stylesheet" href="css/footer.css" />
  <link rel="stylesheet" href="css/navbar.css" />

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />

  <!-- SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!-- â­ IMPORTANT: Load Firebase BEFORE any JS that uses it -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

  <script>
    /* â­ Firebase Initialization (GLOBAL) */
    const firebaseConfig = {
      apiKey: "AIzaSyC4rfGDs8BqZy6YAcXu7ccvTEMvudL8w4g",
      authDomain: "kisan-saathiii.firebaseapp.com",
      projectId: "kisan-saathiii",
      storageBucket: "kisan-saathiii.appspot.com",
      messagingSenderId: "1069746635685",
      appId: "1:1069746635685:web:b6cade8247e56094011e4c",
      measurementId: "G-XJ0T10GRND"
    };

    const app = firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    /* Make global for user_status.js */
    window.firebaseApp = app;
    window.firebaseAuth = auth;
    window.firebaseDb = db;
  </script>

</head>
<body>

  <!-- Navbar placeholder -->
  <div id="navbar"></div>

  <!-- Main Weather App -->
  <main class="weather-app container">
    <header class="wa-header">
      <h1>ğŸŒ¦ï¸ Weather</h1>
      <p class="wa-subtitle" id="subtitle">Simple 14-day weather for village people</p>
    </header>

    <section class="wa-controls card">
      <div class="wa-row">
        <div class="lang-select">
          <label for="languageSelect">Language</label>
          <select id="languageSelect">
            <option value="en">English</option>
            <option value="hi">à¤¹à¤¿à¤‚à¤¦à¥€</option>
            <option value="bho">à¤­à¥‹à¤œà¤ªà¥à¤°à¥€</option>
            <option value="mai">à¤®à¥ˆà¤¥à¤¿à¤²à¥€</option>
          </select>
        </div>

        <div class="search-block">
          <input id="placeInput" type="text" placeholder="Type village or city name" />
          <button id="btnSearch" class="btn">ğŸ”</button>
        </div>
      </div>

      <div class="wa-row small">
        <button id="btnLocation" class="btn btn-secondary">ğŸ“ Use my location</button>
        <div id="statusText" class="statusText">Type village name or use location.</div>
      </div>
    </section>

    <!-- Alert Box -->
    <div id="alertBox" class="alert"></div>

    <!-- Current Weather Card -->
    <section id="currentCard" class="card current-card" style="display:none;">
      <div class="cc-top">
        <div>
          <div id="locationName" class="loc-name">Your Place</div>
          <div id="currentDate" class="date-small"></div>
        </div>
        <div class="temp-block">
          <div id="currentTemp" class="temp-big">--Â°C</div>
          <div id="conditionText" class="cond-text">--</div>
        </div>
      </div>

      <div class="cc-bottom">
        <div class="cc-left">
          <div id="rangeText" class="range-text">--Â° / --Â°</div>
          <div id="sunText" class="sun-text"></div>
        </div>
        <div class="cc-right">
          <div id="extraText" class="extra-text"></div>
        </div>
      </div>

      <div class="cc-actions">
        <button id="btnSpeakToday" class="btn btn-block">ğŸ”Š Speak Today</button>
        <button id="btnSpeakSummary" class="btn btn-block">ğŸ—£ï¸ Speak 14 Days</button>
      </div>
    </section>

    <!-- 14 Day Forecast -->
    <section id="forecastCard" class="card forecast-card" style="display:none;">
      <h3 id="forecastTitle" class="forecast-title">14-Day Forecast</h3>
      <div id="forecastList" class="forecast-list"></div>
    </section>

    <!-- Tip Card -->
    <section id="tipCard" class="card tip-card" style="display:none;">
      <strong id="tipTitle">Farming Tip</strong>
      <div id="tipText" class="tip-text"></div>
      <div id="offlineNote" class="offline-note"></div>
    </section>

  </main>

  <!-- Footer -->
  <div id="footer"></div>

  <!-- Project Core Scripts -->
  <script src="Js/utility.js"></script>
  <script src="Js/schemes.js"></script>
  <script src="Js/footer.js"></script>

  <!-- Navbar -->
  <script src="Js/navbar.js"></script>

  <!-- User Login Status -->
  <script type="module" src="Js/user_status.js"></script>

  <!-- Weather Logic -->
  <script type="module" src="Js/weather.js"></script>
  <script type="module" src="Js/auth_guard.js"></script>


</body>
</html>
