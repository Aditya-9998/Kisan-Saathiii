<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kisaan Saathi - Sign Up</title>

  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/footer.css" />
  <link rel="stylesheet" href="css/navbar.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
</head>
<body>
  <div id="navbar"></div>

  <main class="content login-page">
    <section class="login-container">
      <h2>Create a Kisaan Saathi Account</h2>

      <div id="auth-message" style="color: red; margin-bottom: 15px;"></div>

      <form id="signup-form">
        <div class="input-group profile-upload-group">
          <label>Profile Picture (Optional)</label>
          <div class="profile-preview-container">
            <img id="profile-preview" src="images/Abhi 2.png" alt="Profile Image Preview">
            <input type="file" id="profile-image-upload" accept="image/*" style="display:none;">
            <div class="button-row">
              <button type="button" class="btn-secondary" id="upload-img-btn"><i class="fas fa-camera"></i> Upload Image</button>
              <button type="button" class="btn-remove-img" id="remove-img-btn" style="display:none;"><i class="fas fa-times"></i> Remove</button>
            </div>
          </div>
        </div>

        <div class="input-group"><label for="name">Full Name</label><input id="name" name="name" required placeholder="Enter your full name"></div>
        <div class="input-group"><label for="phone">Phone Number</label><input id="phone" name="phone" required placeholder="e.g., +91 9876543210"></div>
        <div class="input-group"><label for="email">Email</label><input id="email" name="email" type="email" required placeholder="Enter your email address"></div>

        <div class="input-group">
          <label for="password">Password</label>
          <div class="password-wrapper">
            <input type="password" id="password" name="password" required placeholder="Create a strong password (min 6 chars)">
            <i class="fa-solid fa-eye toggle-password" data-target="password" aria-hidden="true"></i>
          </div>
        </div>

        <div class="input-group"><label for="location">Location</label>
          <select id="location" name="location" required><option value="india" selected>India</option></select>
        </div>

        <div class="input-group"><label for="state">State</label><input id="state" name="state" required placeholder="e.g., Punjab"></div>
        <div class="input-group"><label for="pincode">Pincode</label><input id="pincode" name="pincode" pattern="[0-9]{6}" required placeholder="e.g., 141001"></div>

        <button type="submit" class="btn-primary">Sign Up</button>
      </form>

      <p class="signup-text">Already have an account? <a href="login.html">Login</a></p>
    </section>
  </main>

  <div id="status-popup" class="status-popup"><p id="popup-message"></p></div>
  <div id="footer"></div>

  <!-- Firebase compat (v9) -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-storage-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyC4rfGDs8BqZy6YAcXu7ccvTEMvudL8w4g",
      authDomain: "kisan-saathiii.firebaseapp.com",
      projectId: "kisan-saathiii",
      storageBucket: "kisan-saathiii.appspot.com",
      messagingSenderId: "1069746635685",
      appId: "1:1069746635685:web:b6cade8247e56094011e4c",
      measurementId: "G-XJ0T10GRND"
    };
    const app = firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    window.firebaseAuth = auth;
    window.firebaseDb = firebase.firestore();
    window.firebaseStorage = firebase.storage();
  </script>

  <script src="Js/utility.js"></script>
  <script src="Js/navbar.js"></script>
  <script src="Js/schemes.js"></script>
  <script src="Js/footer.js"></script>

  <!-- user_status (compat) -->
  <script src="Js/user_status.js"></script>

  <!-- signup handler -->
  <script src="Js/signup_auth.js"></script>

  <script src="Js/password_toggle.js"></script>

  <script>
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({
        pageLanguage: 'en',
        includedLanguages: 'en,hi,bn,mr,pa',
        layout: google.translate.TranslateElement.InlineLayout.SIMPLE
      }, 'google_element');
    }
  </script>
  <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</body>
</html>
